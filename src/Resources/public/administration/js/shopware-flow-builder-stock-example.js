(function(){var e={487:function(){},901:function(){Shopware.Application.addServiceProviderDecorator("ruleConditionDataProviderService",e=>(e.upsertGroup("product",{id:"product",name:"sw-settings-rule.detail.groups.product"}),e.addCondition("productCustomField",{component:"sw-condition-product-custom-field",label:"sw-condition.condition.product.productCustomFieldRule",scopes:["product"],group:"product"}),e))},309:function(e,t,n){var i=n(487);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals),n(346).Z("7b533419",i,!0,{})},346:function(e,t,n){"use strict";function i(e,t){for(var n=[],i={},o=0;o<t.length;o++){var r=t[o],d=r[0],s={id:e+":"+o,css:r[1],media:r[2],sourceMap:r[3]};i[d]?i[d].parts.push(s):n.push(i[d]={id:d,parts:[s]})}return n}n.d(t,{Z:function(){return f}});var o="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!o)throw Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var r={},d=o&&(document.head||document.getElementsByTagName("head")[0]),s=null,l=0,a=!1,u=function(){},c=null,p="data-vue-ssr-id",h="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function f(e,t,n,o){a=n,c=o||{};var d=i(e,t);return m(d),function(t){for(var n=[],o=0;o<d.length;o++){var s=r[d[o].id];s.refs--,n.push(s)}t?m(d=i(e,t)):d=[];for(var o=0;o<n.length;o++){var s=n[o];if(0===s.refs){for(var l=0;l<s.parts.length;l++)s.parts[l]();delete r[s.id]}}}}function m(e){for(var t=0;t<e.length;t++){var n=e[t],i=r[n.id];if(i){i.refs++;for(var o=0;o<i.parts.length;o++)i.parts[o](n.parts[o]);for(;o<n.parts.length;o++)i.parts.push(g(n.parts[o]));i.parts.length>n.parts.length&&(i.parts.length=n.parts.length)}else{for(var d=[],o=0;o<n.parts.length;o++)d.push(g(n.parts[o]));r[n.id]={id:n.id,refs:1,parts:d}}}}function v(){var e=document.createElement("style");return e.type="text/css",d.appendChild(e),e}function g(e){var t,n,i=document.querySelector("style["+p+'~="'+e.id+'"]');if(i){if(a)return u;i.parentNode.removeChild(i)}if(h){var o=l++;t=_.bind(null,i=s||(s=v()),o,!1),n=_.bind(null,i,o,!0)}else t=b.bind(null,i=v()),n=function(){i.parentNode.removeChild(i)};return t(e),function(i){i?(i.css!==e.css||i.media!==e.media||i.sourceMap!==e.sourceMap)&&t(e=i):n()}}var F=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}();function _(e,t,n,i){var o=n?"":i.css;if(e.styleSheet)e.styleSheet.cssText=F(t,o);else{var r=document.createTextNode(o),d=e.childNodes;d[t]&&e.removeChild(d[t]),d.length?e.insertBefore(r,d[t]):e.appendChild(r)}}function b(e,t){var n=t.css,i=t.media,o=t.sourceMap;if(i&&e.setAttribute("media",i),c.ssrId&&e.setAttribute(p,t.id),o&&(n+="\n/*# sourceURL="+o.sources[0]+" */\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */"),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}}},t={};function n(i){var o=t[i];if(void 0!==o)return o.exports;var r=t[i]={id:i,exports:{}};return e[i](r,r.exports,n),r.exports}n.d=function(e,t){for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="bundles/shopwareflowbuilderstockexample/",window?.__sw__?.assetPath&&(n.p=window.__sw__.assetPath+"/bundles/shopwareflowbuilderstockexample/"),function(){"use strict";let e=Object.freeze({SET_PRODUCT_CUSTOM_FIELD:"action.set.product.custom.field"}),t="product",{Component:i}=Shopware,{mapState:o,mapGetters:r}=i.getComponentHelper();i.override("sw-flow-sequence-action",{inject:["flowBuilderService"],computed:{groups(){return this.actionGroups.unshift(t),this.$super("groups")},modalName(){return this.selectedAction===e.SET_PRODUCT_CUSTOM_FIELD?"sw-flow-set-entity-custom-field-modal":this.$super("modalName")}},created(){this.flowBuilderService.$entityAction[e.SET_PRODUCT_CUSTOM_FIELD]="product"},methods:{getActionTitle(n){return n===e.SET_PRODUCT_CUSTOM_FIELD?{value:n,icon:"regular-file-signature",label:this.$tc("set-product-custom-field-action.title"),group:t}:this.$super("getActionTitle",n)}}}),n(901),n(309);let{Component:d,Mixin:s}=Shopware,{mapPropertyErrors:l}=d.getComponentHelper(),{Criteria:a}=Shopware.Data;d.extend("sw-condition-product-custom-field","sw-condition-base",{template:'{% block sw_condition_value_content %}\n    <div class="sw-condition-product-custom-field sw-condition__condition-value">\n        {% block sw_condition_product_custom_field_field %}\n            <sw-entity-single-select\n                    ref="selectedField"\n                    v-model:value="selectedField"\n                    entity="custom_field"\n                    :criteria="customFieldCriteria"\n                    :placeholder="$tc(\'sw-condition.condition.product.field.customFieldSelect.placeholder\')"\n                    :disabled="disabled || undefined"\n                    size="medium"\n                    show-clearable-button\n                    @update:value="onFieldChange"\n            >\n                <template #selection-label-property="slotProps">\n                    {{ getInlineSnippet(slotProps.item.config.label) || slotProps.item.name }}\n                </template>\n\n                <template #result-label-property="slotProps">\n                    {{ getInlineSnippet(slotProps.item.config.label) || slotProps.item.name }}\n                </template>\n\n                <template #result-description-property="slotProps">\n                    {% block sw_condition_product_custom_field_field_description %}\n                        {{ getInlineSnippet(slotProps.item.customFieldSet.config.label) || slotProps.item.customFieldSet.name }}\n                    {% endblock %}\n                </template>\n            </sw-entity-single-select>\n        {% endblock %}\n\n        {% block sw_condition_product_custom_field_operator %}\n            <sw-condition-operator-select\n                    v-if="renderedField"\n                    v-bind="{ operators, condition }"\n                    :disabled="disabled || undefined"\n            />\n        {% endblock %}\n\n        {% block sw_condition_product_custom_field_value %}\n            <sw-form-field-renderer\n                    v-if="renderedField"\n                    :value="renderedFieldValue"\n                    :config="renderedField.config"\n                    :disabled="disabled || undefined"\n                    size="medium"\n                    @update:value="renderedFieldValue = $event"\n            />\n        {% endblock %}\n    </div>\n{% endblock %}',inject:["repositoryFactory"],mixins:[s.getByName("sw-inline-snippet")],computed:{customFieldCriteria(){let e=new a(1,25);return e.addAssociation("customFieldSet"),e.addFilter(a.equals("customFieldSet.relations.entityName","product")),e.addSorting(a.sort("customFieldSet.name","ASC")),e},operator:{get(){return this.ensureValueExist(),this.condition.value.operator},set(e){this.ensureValueExist(),this.condition.value={...this.condition.value,operator:e}}},renderedField:{get(){return this.ensureValueExist(),this.condition.value.renderedField},set(e){this.ensureValueExist(),this.condition.value={...this.condition.value,renderedField:e}}},selectedField:{get(){return this.ensureValueExist(),this.condition.value.selectedField},set(e){this.ensureValueExist(),this.condition.value={...this.condition.value,selectedField:e}}},selectedFieldSet:{get(){return this.ensureValueExist(),this.condition.value.selectedFieldSet},set(e){this.ensureValueExist(),this.condition.value={...this.condition.value,selectedFieldSet:e}}},renderedFieldValue:{get(){return this.ensureValueExist(),this.condition.value.renderedFieldValue},set(e){this.ensureValueExist(),this.condition.value={...this.condition.value,renderedFieldValue:e}}},operators(){return this.renderedField.type="int",this.renderedField.config.type="int",this.renderedField.config.customFieldType="int",this.conditionDataProviderService.getOperatorSetByComponent(this.renderedField)},...l("condition",["value.renderedField","value.selectedField","value.selectedFieldSet","value.operator","value.renderedFieldValue"]),currentError(){return this.conditionValueRenderedFieldError||this.conditionValueSelectedFieldError||this.conditionValueSelectedFieldSetError||this.conditionValueOperatorError||this.conditionValueRenderedFieldValueError}},methods:{onFieldChange(e){this.$refs.selectedField.resultCollection.has(e)?(this.renderedField=this.$refs.selectedField.resultCollection.get(e),this.selectedFieldSet=this.renderedField.customFieldSetId):this.renderedField=null,this.operator=null,this.renderedFieldValue=null}}})}()})();